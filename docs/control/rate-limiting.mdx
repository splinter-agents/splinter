---
title: Rate Limiting
description: Per-agent and per-tool call limits
---

# Rate Limiting

Limit how often agents and tools can be called.

## Agent Rate Limits

```python
from splinter.control import RateLimiter

limiter = RateLimiter()

# Limit researcher to 10 calls per minute
limiter.set_agent_limit("researcher", calls=10, window_seconds=60)

# Check before calling
limiter.check_agent("researcher")  # Raises if exceeded
limiter.record_agent_call("researcher")
```

## Tool Rate Limits

```python
# Limit web_search to 5 calls per minute
limiter.set_tool_limit("web_search", calls=5, window_seconds=60)

# Check before calling
limiter.check_tool("web_search")
limiter.record_tool_call("web_search")
```

## Burst Allowance

```python
from splinter.control import RateLimitConfig

# Allow burst above normal limit
limiter.set_agent_limit(
    "researcher",
    calls=10,
    window_seconds=60,
    burst=15,  # Allow up to 15 in a burst
)
```

## Check Usage

```python
usage = limiter.get_agent_usage("researcher")
print(f"Current: {usage['current']}/{usage['limit']}")
print(f"Remaining: {usage['remaining']}")
```

## Error Handling

```python
from splinter.control.rate_limit import RateLimitExceededError

try:
    limiter.check_agent("researcher")
except RateLimitExceededError as e:
    print(f"Rate limit exceeded for {e.entity_type} '{e.entity_id}'")
    print(f"Limit: {e.limit} calls per {e.window}s")
```

## Reset

```python
# Reset specific agent/tool
limiter.reset(agent_id="researcher")
limiter.reset(tool_name="web_search")

# Reset all
limiter.reset()
```
