---
title: Shared State
description: Single source of truth for all agents
---

# Shared State

All agents read from and write to a single shared state.

## Usage

```python
from splinter.coordination import SharedState

state = SharedState(initial_data={"topic": "AI"})

# Set values (supports dot notation)
state.set("research.findings", ["finding1", "finding2"])
state.set("research.summary", "Summary text")

# Get values
findings = state.get("research.findings")
topic = state.get("topic")

# Get with default
missing = state.get("nonexistent", default=[])
```

## Nested Access

```python
state.set("deep.nested.value", 123)
value = state.get("deep.nested.value")  # 123

# Get entire branch
deep = state.get("deep")  # {"nested": {"value": 123}}
```

## Versioning

Every change is versioned:

```python
# Check version
version = state.version  # StateVersion object
print(f"Version: {version.version}")
print(f"Changed by: {version.agent_id}")
print(f"Changed fields: {version.changed_fields}")
```

## Snapshots

```python
# Take snapshot
snapshot = state.snapshot()

# Restore from snapshot
state.restore(snapshot)
```

## History

```python
# View change history
history = state.get_history("research.findings")

for entry in history:
    print(f"v{entry.version}: {entry.value} by {entry.agent_id}")
```

## Merge

```python
# Merge another state
other = SharedState(initial_data={"new_field": "value"})
state.merge(other)
```

## With Agent ID

```python
# Track who made changes
state.set("research.findings", [...], agent_id="researcher")
```
